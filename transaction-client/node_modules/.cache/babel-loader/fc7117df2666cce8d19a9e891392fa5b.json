{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { message } from 'antd';\nimport { useEffect, useState } from 'react';\nimport walletsApi from '../api/walletsApi';\n\nfunction useGetWalletsInfo(username, socket) {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [walletInfo, setWalletInfo] = useState(null);\n  const [updateWallet, setUpdateWallet] = useState(null); // cập nhật realtime từ back end\n\n  useEffect(() => {\n    socket === null || socket === void 0 ? void 0 : socket.on('updateWallets', data => {\n      setUpdateWallet(data);\n    });\n  }, [socket]);\n  useEffect(() => {\n    {\n      username && (async () => {\n        setLoading(true);\n\n        try {\n          const result = await walletsApi.get(username);\n          setWalletInfo(result.data);\n        } catch (err) {\n          message.error(err.response.data);\n        }\n\n        setLoading(false);\n      })();\n    }\n  }, [username, updateWallet]); //trả thông tin khi call api thành công\n\n  return {\n    loading,\n    walletInfo\n  };\n}\n\n_s(useGetWalletsInfo, \"zq5F0THVWnIwOTyS8Zhmqg4nom8=\");\n\nexport default useGetWalletsInfo;","map":{"version":3,"names":["message","useEffect","useState","walletsApi","useGetWalletsInfo","username","socket","loading","setLoading","walletInfo","setWalletInfo","updateWallet","setUpdateWallet","on","data","result","get","err","error","response"],"sources":["C:/Users/hoang/Desktop/transaction/transaction-client/src/hooks/useGetWalletsInfo.js"],"sourcesContent":["import { message } from 'antd';\r\nimport { useEffect, useState } from 'react';\r\nimport walletsApi from '../api/walletsApi';\r\n\r\nfunction useGetWalletsInfo(username, socket) {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [walletInfo, setWalletInfo] = useState(null);\r\n\tconst [updateWallet, setUpdateWallet] = useState(null);\r\n\r\n\t// cập nhật realtime từ back end\r\n\tuseEffect(() => {\r\n\t\tsocket?.on('updateWallets', (data) => {\r\n\t\t\tsetUpdateWallet(data);\r\n\t\t});\r\n\t}, [socket]);\r\n\r\n\tuseEffect(() => {\r\n\t\t{\r\n\t\t\tusername &&\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\tsetLoading(true);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst result = await walletsApi.get(username);\r\n\t\t\t\t\t\tsetWalletInfo(result.data);\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tmessage.error(err.response.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})();\r\n\t\t}\r\n\t}, [username, updateWallet]);\r\n\r\n\t//trả thông tin khi call api thành công\r\n\treturn {\r\n\t\tloading,\r\n\t\twalletInfo,\r\n\t};\r\n}\r\n\r\nexport default useGetWalletsInfo;\r\n"],"mappings":";;AAAA,SAASA,OAAT,QAAwB,MAAxB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,UAAP,MAAuB,mBAAvB;;AAEA,SAASC,iBAAT,CAA2BC,QAA3B,EAAqCC,MAArC,EAA6C;EAAA;;EAC5C,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACO,UAAD,EAAaC,aAAb,IAA8BR,QAAQ,CAAC,IAAD,CAA5C;EACA,MAAM,CAACS,YAAD,EAAeC,eAAf,IAAkCV,QAAQ,CAAC,IAAD,CAAhD,CAH4C,CAK5C;;EACAD,SAAS,CAAC,MAAM;IACfK,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEO,EAAR,CAAW,eAAX,EAA6BC,IAAD,IAAU;MACrCF,eAAe,CAACE,IAAD,CAAf;IACA,CAFD;EAGA,CAJQ,EAIN,CAACR,MAAD,CAJM,CAAT;EAMAL,SAAS,CAAC,MAAM;IACf;MACCI,QAAQ,IACP,CAAC,YAAY;QACZG,UAAU,CAAC,IAAD,CAAV;;QACA,IAAI;UACH,MAAMO,MAAM,GAAG,MAAMZ,UAAU,CAACa,GAAX,CAAeX,QAAf,CAArB;UACAK,aAAa,CAACK,MAAM,CAACD,IAAR,CAAb;QACA,CAHD,CAGE,OAAOG,GAAP,EAAY;UACbjB,OAAO,CAACkB,KAAR,CAAcD,GAAG,CAACE,QAAJ,CAAaL,IAA3B;QACA;;QACDN,UAAU,CAAC,KAAD,CAAV;MACA,CATD,GADD;IAWA;EACD,CAdQ,EAcN,CAACH,QAAD,EAAWM,YAAX,CAdM,CAAT,CAZ4C,CA4B5C;;EACA,OAAO;IACNJ,OADM;IAENE;EAFM,CAAP;AAIA;;GAjCQL,iB;;AAmCT,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}